<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
    <title>Cart</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif, Helvetica, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        header {
            font-family: 'Times New Roman', Times, serif, Helvetica, sans-serif;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ffffff;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        header img {
            height: 50px;
        }

        header a {
            margin: 0 15px;
            text-decoration: none;
            color: black;
            font-weight: bold;
        }

        a:hover {
            text-decoration: underline;
        }

        .breadcrumb {
            margin: 20px;
            font-size: 14px;
        }

        .breadcrumb a {
            text-decoration: none;
            color: #333;
        }

        .breadcrumb span {
            color: #999;
        }

        .cart-page {
            display: flex;
            justify-content: space-between;
            padding: 20px;
        }

        .product-list {
            width: 60%;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            height: 400px; 
            overflow-y: auto; 
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
        }

        th {
            background-color: #f4f4f4;
            color: #333;
        }

        td {
            border-bottom: 1px solid #ddd;
        }

        .quantity-control {
            display: flex;
            align-items: center;
        }

        .quantity-control input {
            width: 50px;
            text-align: center;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        .order-summary {
            width: 30%;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .order-summary h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .order-summary p {
            font-size: 16px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
        }

        .order-summary .total {
            font-weight: bold;
            color: #a49cbc;
        }

        .order-summary button {
            width: 100%;
            padding: 10px;
            background-color: #a49cbc;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
        }

        .order-summary button:hover {
            background-color: #a49cbc;
            transform: scale(1.05);
        }

        button:hover {
            transform: scale(1.05);
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: #ffffff;
            margin-top: 50px;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
        }

        .social-icon {
            width: 24px;
            height: auto;
        }

    </style>
</head>

<body>

    <header>
        <img src="Pics/logo.jpg" alt="logo">
        <a href="Homepage.html" accesskey="h" target="_self">Home Page</a> 
        <a href="buyer.html" accesskey="b" target="_self">Buyer</a> 
        <a href="Seller.html" accesskey="s" target="_self">Seller</a> 
        <a href="Category.html" accesskey="l" target="_self">Living Room</a>
        <a href="bedroom.html" accesskey="r" target="_self">Bedroom</a>
        <a href="Outdoor.html" accesskey="o" target="_self">Outdoor</a>
        <a href="cart.html"><img src="Pics/cart.png" alt="cart" accesskey="c" target="_self">Cart</a>
    </header>

    <nav class="breadcrumb">
        <a href="Homepage.html">Homepage</a> &gt;
        <a href="buyer.html">Buyer</a> &gt;
        <span>Cart</span>
    </nav>

    <div class="cart-page">
        <div class="product-list">
            <table>
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Product</th>
                        <th>Name</th>
                        <th>Quantity</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="checkbox" class="select-item"></td>
                        <td><img src="Pics/desk.jpg" alt="Desk" width="50"></td>
                        <td>Wooden Desk</td>
                        <td>
                            <div class="quantity-control">
                                <input type="number" value="1" min="1">
                            </div>
                        </td>
                        <td>SR 500</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="select-item"></td>
                        <td><img src="Pics/couch.jpg" alt="Couch" width="50"></td>
                        <td>Luxury Couch</td>
                        <td>
                            <div class="quantity-control">
                                <input type="number" value="2" min="1">
                            </div>
                        </td>
                        <td>SR 800</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="select-item"></td>
                        <td><img src="Pics/coffeetable.jpg" alt="Coffee Table" width="50"></td>
                        <td>Coffee Table</td>
                        <td>
                            <div class="quantity-control">
                                <input type="number" value="3" min="1">
                            </div>
                        </td>
                        <td>SR 1200</td>
                    </tr>
                </tbody>
            </table>
            <button id="delete-btn" style="margin-top: 20px; width: 100%; padding: 10px; background-color: #de9797; color: white; border: none; border-radius: 5px; cursor: pointer; transition: transform 0.3s;">
            Delete Selected
            </button>       
        </div>

        <div class="order-summary">
            <h3>Order Summary</h3>
            <p>Subtotal <span>SR 2500</span></p>
            <p>Tax <span>SR 125</span></p>
            <p class="total">Total <span>SR 2625</span></p>
            <button>Checkout</button>
            <button style="background-color: #de9797;">Clear Cart</button>
        </div>
    </div>

    <footer> 
        <p>&copy; HomeHub. All rights reserved.</p>
        <p>Contact us: <a href="mailto:contact@HomeHub.com">contact@HomeHub.com</a></p>
        <a href=""><img src="Pics/Instagram_icon.png" alt="instagram" class="social-icon"></a>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cartTableBody = document.querySelector('tbody');
            const deleteBtn = document.getElementById('delete-btn');
            const clearCartBtn = document.querySelector('.order-summary button:nth-of-type(2)');
            const checkoutBtn = document.querySelector('.order-summary button:first-of-type');
            const totalDisplay = document.querySelector('.order-summary .total span');
            const taxRate = 0.05;
    
            function loadCartItems() {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                cartTableBody.innerHTML = ''; 
                cart.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td><input type="checkbox" class="select-item"></td>
                        <td><img src="${item.image}" alt="${item.name}" width="50"></td>
                        <td>${item.name}</td>
                        <td>
                            <div class="quantity-control">
                                <input type="number" value="${item.quantity}" min="1" class="quantity-input">
                            </div>
                        </td>
                        <td>SR ${item.price.toFixed(2)}</td>
                    `;
                    cartTableBody.appendChild(row);
                });
                calculateTotal(); 
            }
    
            function calculateTotal() {
                let subtotal = 0;
                cartTableBody.querySelectorAll('tr').forEach(row => {
                    const quantity = parseInt(row.querySelector('.quantity-input').value, 10);
                    const price = parseFloat(row.cells[4].textContent.replace('SR', ''));
                    subtotal += quantity * price;
                });
    
                const tax = subtotal * taxRate;
                const total = subtotal + tax;
                document.querySelector('.order-summary p:nth-of-type(1) span').textContent = `SR ${subtotal.toFixed(2)}`;
                document.querySelector('.order-summary p:nth-of-type(2) span').textContent = `SR ${tax.toFixed(2)}`;
                totalDisplay.textContent = `SR ${total.toFixed(2)}`;
            }
    
            function updateLocalStorage() {
                const updatedCart = [];
                cartTableBody.querySelectorAll('tr').forEach(row => {
                    updatedCart.push({
                        name: row.cells[2].textContent,
                        image: row.cells[1].querySelector('img').src,
                        quantity: parseInt(row.querySelector('.quantity-input').value, 10),
                        price: parseFloat(row.cells[4].textContent.replace('SR', ''))
                    });
                });
                localStorage.setItem('cart', JSON.stringify(updatedCart));
            }
    
            cartTableBody.addEventListener('input', event => {
                if (event.target.classList.contains('quantity-input')) {
                    calculateTotal();
                    updateLocalStorage();
                }
            });
    
            deleteBtn.addEventListener('click', () => {
                cartTableBody.querySelectorAll('.select-item:checked').forEach(item => {
                    item.closest('tr').remove();
                });
                updateLocalStorage();
                calculateTotal();
            });
    
            clearCartBtn.addEventListener('click', () => {
                localStorage.removeItem('cart');
                loadCartItems();
                calculateTotal();
                alert('All items have been removed from the cart.');
            });
    
            checkoutBtn.addEventListener('click', () => {
                const total = totalDisplay.textContent;
                if (!cartTableBody.querySelectorAll('tr').length) {
                    alert('Your cart is empty! Add items to proceed to checkout.');
                    return;
                }
                alert(`Thank you for your purchase! Your total is ${total}.`);
                localStorage.removeItem('cart');
                window.location.href = 'Product Review.html'; 
            });
    
            loadCartItems();
            calculateTotal();
        });
    </script>
    
        
    

</body>
</html>
